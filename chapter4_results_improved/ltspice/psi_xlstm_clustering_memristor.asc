Version 4
SHEET 1 880 680
WIRE 128 80 80 80
WIRE 272 80 208 80
WIRE 80 144 80 80
WIRE 272 144 272 80
WIRE 272 272 272 224
WIRE 80 288 80 224
WIRE 272 368 272 352
WIRE 80 400 80 368
FLAG 80 400 0
FLAG 272 368 0
SYMBOL voltage 80 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 2 50k) AC 1
SYMBOL bv 272 128 R0
SYMATTR InstName B1
SYMATTR Value V=I(V1)*{w_mem*G_on + (1-w_mem)*G_off}*1e-3
SYMBOL res 112 96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 256 256 R0
SYMATTR InstName R_load
SYMATTR Value 1k
TEXT -16 424 Left 2 !.tran 0 1m 0 1u
TEXT -16 456 Left 2 !.param tau0_k0=0.999090 tau0_k1=0.996725 tau0_k2=0.996951
TEXT -16 488 Left 2 !.param tau1_k0=0.993798 tau1_k1=0.995581 tau1_k2=0.993035
TEXT -16 520 Left 2 !.param G_on=0.01 G_off=0.0001
TEXT -16 552 Left 2 !.param w_mem=0.5*(1+tanh(s0+0.3*s1+0.1*s2))
TEXT -16 584 Left 2 !.ic V(s0)=0 V(s1)=0 V(s2)=0